<!doctype html><html><head><title>Database | Music</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=copyright content><meta name=robots content="noindex"><link rel=icon type=image/png sizes=32x32 href=/music-docs/favicon.png><link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css><link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Kanit:300,400,500,700"><link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500|Roboto:400,500,700&display=swap"><link rel=stylesheet type=text/css href=https://regiocast.github.io/music-docs/sass/main.cc5f494de8a98fffa0d47fbc42bfbd12eceb8e24c31aad15595370fcac946af7.css integrity="sha256-zF9JTeipj/+g1H+8Qr+9EuzrjiTDGq0VWVNw/KyUavc="></style></head><body><header><button class=menu aria-hidden=true></button>
<a class=logo href=/music-docs aria-label=Documentation></a></header><div class=search><input id=search type=text placeholder="Search Documentation..."></div><div class=sidebar><header><a class=logo href=/music-docs aria-label=Home>music</a></header><div class=menu aria-hidden=true><button class=close></button></div><nav><a href=/music-docs class=back><svg fill="currentcolor" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" enable-background="new 0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 9H4.41L8.7 4.71C8.89 4.53 9 4.28 9 4c0-.55-.45-1-1-1C7.72 3 7.47 3.11 7.29 3.29l-6 6C1.11 9.47 1 9.72 1 10s.11.53.29.71l6 6C7.47 16.89 7.72 17 8 17c.55.0 1-.45 1-1 0-.28-.11-.53-.29-.71L4.41 11H18c.55.0 1-.45 1-1S18.55 9 18 9z"/></svg><span>Home</span></a><h1 class=section-header>Server</h1><ul><li class=category>Configuration</li><li class=sidebar-item><a href=/music-docs/server/configuration/https/>Certificates</a></li><li class=sidebar-item><a href=/music-docs/server/configuration/headers/>Headers</a></li><li class=sidebar-item><a href=/music-docs/server/configuration/logging/>Logging</a></li><li class=sidebar-item><a href=/music-docs/server/overview/>Overview</a></li><li class=category>Storage</li><li class="sidebar-item selected"><a href=/music-docs/server/storage/database/ class=selected>Database</a></li><li class=category>Deployment</li><li class=sidebar-item><a href=/music-docs/server/deployment/digital_ocean/>Digital Ocean</a></li></ul></nav></div><main class=body><section class=body-content><header><h1>Database</h1></header><article class=content><p>Music requires the use of a database backend for persistence. Music uses an embedded <strong>sqlite</strong> database by default, which does not require any additional configuration. This article provides a basic overview of alternate database configurations.</p><h1 id=postgres>Postgres</h1><p>Music supports postgres 9.6 and higher as the database engine. The below example demonstrates postgres database configuration. Please reference the official driver <a href=https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING>documentation</a> for connection string configuration details.</p><pre><code>MUSIC_DATABASE_DRIVER=postgres
MUSIC_DATABASE_DATASOURCE=postgres://root:password@1.2.3.4:5432/postgres?sslmode=disable
MUSIC_DATABASE_CONNECTIONS=11
</code></pre><p><code>MUSIC_DATABASE_CONNECTIONS</code> should be at max the half of the possible max_connections in your postgres config, to prevent connection issues on Blue/Green deployments.</p><h1 id=mysql>MySQL</h1><p>Music supports mysql 5.6 and higher as the database engine. The below example demonstrates mysql database configuration. Please reference the official driver <a href=https://github.com/go-sql-driver/mysql#dsn-data-source-name>documentation</a> for connection string configuration details.</p><pre><code>MUSIC_DATABASE_DRIVER=mysql
MUSIC_DATABASE_DATASOURCE=root:password@tcp(1.2.3.4:3306)/music?parseTime=true
</code></pre></article></section><aside class=toc></aside></main><footer><section><h2>Questions?</h2><p>We are always happy to help with questions you might have. <a href="javascript:document.querySelector('#search').focus()">Search</a> our documentation or check out
answers to common questions.</p></section><section><p>Is there a mistake on this page? Please <a href=https://github.com/REGIOCAST/music-docs>let us know</a> or edit <a href=https://github.com/REGIOCAST/music-docs/blob/master/content/server/storage/database.md>this page</a>.</p></section></footer><div class=overlay aria-hidden=true></div><script>function toggle(el){if(el.classList.contains("open")){el.classList.remove("open");}else{el.classList.add("open");}};function toggleSidebar(e){toggle(document.querySelector(".sidebar"));toggle(document.querySelector(".overlay"));}
document.querySelector(".overlay").addEventListener("click",toggleSidebar);document.querySelector("body > header .menu").addEventListener("click",toggleSidebar);document.querySelector(".sidebar .close").addEventListener("click",toggleSidebar);</script><script type=text/javascript src=https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js></script><script type=text/javascript>docsearch({apiKey:"503d23f6d5ad2c75122a2b94ea133811",indexName:"regiocast-music",inputSelector:'#search',debug:true});</script></body></html>